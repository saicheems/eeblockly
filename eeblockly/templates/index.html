<html>
<head>
  <meta charset="utf-8">
  <script src="https://unpkg.com/split.js/dist/split.min.js"></script>
  <script src="/static/js/blockly_compressed.js"></script>
  <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.1/mapbox-gl.js'></script>
  <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.1/mapbox-gl.css' rel='stylesheet'/>
  <link rel="stylesheet" href="static/css/style.css">
</head>
<body>
  <div id="left-pane" class="split split-horizontal">
    <div id="map"></div>
  </div>
  <div id="right-pane" class="split split-horizontal">
    <iframe id="blockly-area" class="split"></iframe>
    <div id="console" class="split">
      <p>> ...</p>
      <p>> ...</p>
    </div>
  </div>
  <div id="blockly-div" style="position: absolute;"></div>
  <xml id="toolbox" style="display: none">
    {% for group, blocks in groups|dictsort -%}
    <category name="{{group}}">
      {% for type, block in blocks|dictsort -%}
      <block type="{{type}}"></block>
      {%- endfor %}
    </category>
    {%- endfor %}
  </xml>
  <script>
    {%- autoescape false -%}
    {%- for group, blocks in groups|dictsort -%}
    {% for type, block in blocks|dictsort %}
    Blockly.Blocks["{{type}}"] = {
      init: function() {
        this.jsonInit({{json.dumps(block, sort_keys=True)}});
      }
    };
    {%- endfor %}
    {%- endfor %}
    {%- endautoescape %}
  </script>

  <script src="/static/js/init.js"></script>
</body>
</html>
